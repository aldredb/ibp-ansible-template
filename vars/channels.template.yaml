consortium_members:
  - org1
  - org2
  - org3

channels:
  common-channel:
    members:
      org1: # has to match the key in peer_organizations
        peers:
          - Org1 Peer1 # has to match the name of the peers
        anchor_peers:
          - Org1 Peer1
      org2:
        peers:
          - Org2 Peer1
        anchor_peers:
          - Org2 Peer1
      org3:
        peers:
          - Org3 Peer1
        anchor_peers:
          - Org3 Peer1
    capabilities:
      application: V1_4_2
      channel: V1_4_3
      orderer: V1_4_2
    # By default, all members are readers
    writers:
      - org1
      - org2
      - org3
    operators:
      - org1
      - org2
      - org3
    config_update_policy: 2 # out of total number of operators
    chaincodes:
      marbles:
        version: v2
        constructor:
          function: "init"
          args:
            - "test"
          endorsement_policy: OR('org1msp.peer','org2msp.peer')
          
  org1-org2-channel:
    members:
      org1:
        peers:
          - Org1 Peer1
        anchor_peers:
          - Org1 Peer1
      org2:
        peers:
          - Org2 Peer1
        anchor_peers:
          - Org2 Peer1
    capabilities:
      application: V1_4_2
      channel: V1_4_3
      orderer: V1_4_2
    # By default, all members are readers
    writers:
      - org1
      - org2
    operators:
      - org1
      - org2
    config_update_policy: 1

  org2-org3-channel:
    members:
      org2:
        peers:
          - Org2 Peer1
        anchor_peers:
          - Org2 Peer1
      org3:
        peers:
          - Org3 Peer1
        anchor_peers:
          - Org3 Peer1
    capabilities:
      application: V1_4_2
      channel: V1_4_3
      orderer: V1_4_2
    # By default, all members are readers
    writers:
      - org2
      - org3
    operators:
      - org2
      - org3
    config_update_policy: 1